(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{42:function(e,a,t){e.exports=t(81)},64:function(e,a,t){},74:function(e,a,t){},77:function(e,a,t){},78:function(e,a,t){},80:function(e,a,t){},81:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),l=t(17),c=t.n(l),o=t(93),s=t(94),m=t(95),i=t(85),u=t(19),d=t(6),E=t(8),g=t(86),p=t(87),v=t(23),f=t(96),h=t(13),b=t.n(h),N=t(16),I=t(83);var y=Object.freeze({combineStyles:function(...e){return e.filter(e=>!!e).join(" ")}});function A(e=[]){return[...e]}var S=Object.freeze({copyOrEmpty:A,sortByField:function(e,a,t){const n=A(e);return a&&t?n.sort((e,n)=>t(e[a],n[a])):n}});var O=Object.freeze({stringCompare:function(e="",a=""){return e.localeCompare(a)},numberCompare:function(e=0,a=0){return e-a}});t(64);var k=function(e){const a=e.className,t=e.loading,n=e.children;return r.a.createElement("div",{className:y.combineStyles("LoadingContainer",a)},t?r.a.createElement(I.a,{color:"primary"}):null===n||void 0===n?void 0:n())},_=t(84);function C(e){const a=e.message,t=e.onReload,n=e.error;return r.a.createElement(_.a,{color:"danger"},r.a.createElement("p",null,a),t&&r.a.createElement("p",null,"Click ",r.a.createElement("a",{href:"#",className:"alert-link",onClick:t},"here")," to try again."),n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement("p",{className:"mb-0"},"Error details: ",n)))}C.defaultProps={message:"Error while fetching data :("};var j=C;t(74);var w=function(e){const a=e.className,t=e.source,n=e.details,l=r.a.useState(!1),c=Object(E.a)(l,2),o=c[0],s=c[1],m=r.a.useState(""),i=Object(E.a)(m,2),u=i[0],d=i[1],g=r.a.useState(""),p=Object(E.a)(g,2),v=p[0],f=p[1],h=r.a.useState(!1),I=Object(E.a)(h,2),A=I[0],S=I[1],O=r.a.useCallback(()=>{d(null),f(null),s(!0);const e=b.a.CancelToken.source();return b.a.get(t,{responseType:"blob",cancelToken:e.token}).then(e=>{d(URL.createObjectURL(e.data))}).catch(e=>{b.a.isCancel(e)||f((null===e||void 0===e?void 0:e.message)||e)}).finally(()=>{s(!1)}),()=>{e.cancel("cancelled")}},[t]);return r.a.useEffect(O,[O]),r.a.useEffect(()=>()=>{u&&URL.revokeObjectURL(u)},[u]),r.a.createElement("div",{className:y.combineStyles("ImagePreview",a),onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1)},r.a.createElement(k,{className:"ImagePreview-LoadingContainer",loading:o},()=>{if(v)return r.a.createElement(j,{message:"Could not load the image :(",onReload:O,error:v});const e=r.a.createElement("img",{className:"ImagePreview-Image",alt:t,src:u});return(null===n||void 0===n?void 0:n.url)||(null===n||void 0===n?void 0:n.download_url)?r.a.createElement("a",{className:"ImagePreview-Image",href:n.url||n.download_url,target:"_blank",rel:"noopener noreferrer"},e):e}),n&&r.a.createElement(N.a,{className:"ImagePreview-Details p-2 m-1",mountOnEnter:!0,unmountOnExit:!0,in:A},r.a.createElement("div",{className:"text-light"},n.author&&r.a.createElement("p",{className:"mb-0"},n.id&&r.a.createElement("span",null,"#",n.id,". "),n.author),n.width&&n.height&&r.a.createElement("p",{className:"mb-0"},n.width," x ",n.height))))};var x=Object.freeze({IMAGES_PAGE_SIZE:20,IMAGE_DEFAULT_WIDTH:320,IMAGE_DEFAULT_HEIGHT:240});const P="https://picsum.photos";var D=Object.freeze({BASE_URL:P,RANDOM_IMAGE:(e=Date.now(),a=x.IMAGE_DEFAULT_WIDTH,t=x.IMAGE_DEFAULT_HEIGHT)=>"".concat(P,"/seed/").concat(e,"/").concat(a,"/").concat(t),LIST_IMAGES:(e=0,a=x.IMAGES_PAGE_SIZE)=>"".concat(P,"/v2/list?page=").concat(e,"&limit=").concat(a),GET_IMAGE:(e,a=x.IMAGE_DEFAULT_WIDTH,t=x.IMAGE_DEFAULT_HEIGHT)=>"".concat(P,"/id/").concat(e,"/").concat(a,"/").concat(t)});function G(e){const a=e.count,t=r.a.useState([]),n=Object(E.a)(t,2),l=n[0],c=n[1];return r.a.useEffect(()=>{c([...Array(a)].map((e,a)=>({key:"".concat(a,"-").concat(Date.now()),seed:Object(f.a)(),content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et velit at turpis hendrerit rutrum. Sed pellentesque nec leo non dictum. Vestibulum aliquam lorem quam, at volutpat nulla tincidunt at. Nulla quis ante mauris. Proin ornare purus in ipsum hendrerit, at faucibus neque aliquet. Pellentesque elit ante, suscipit ut luctus sed, sagittis id lacus. Curabitur scelerisque ultrices purus rutrum mattis. Vestibulum viverra scelerisque neque a egestas."})))},[a]),r.a.createElement(i.a,{className:"pt-5"},l.map((e,a)=>{const t=(a+1)%2,n=t?"text-md-left":"text-md-right";return r.a.createElement(g.a,{key:e.key,className:"mb-5"},r.a.createElement(v.a,{md:{size:5,order:a%2}},r.a.createElement(w,{source:D.RANDOM_IMAGE(e.seed)})),r.a.createElement(v.a,{className:"mt-sm-3 mt-md-0",md:{size:7,order:t}},r.a.createElement("p",{className:y.combineStyles("text-sm-center",n)},e.content)))}),r.a.createElement(i.a,{className:"mb-5",fluid:!0},r.a.createElement(u.b,{to:"images"},r.a.createElement(p.a,{color:"primary"},"Show more"))))}G.defaultProps={count:5};var T=G,M=t(91),L=t(92);const U=r.a.createContext(null),q={id:O.stringCompare,author:O.stringCompare,width:O.numberCompare,height:O.numberCompare,url:O.stringCompare,download_url:O.stringCompare};function R(e){const a=e.page,t=e.children,n=r.a.useState(!1),l=Object(E.a)(n,2),c=l[0],o=l[1],s=r.a.useState(null),m=Object(E.a)(s,2),i=m[0],u=m[1],d=r.a.useState(null),g=Object(E.a)(d,2),p=g[0],v=g[1],f=r.a.useCallback(()=>{o(!0),u(null),v(null);const e=b.a.CancelToken.source();return b.a.get(D.LIST_IMAGES(a+1),{cancelToken:e.token}).then(e=>{var a,t,n,r;const l=-1!==(null===(a=e.headers)||void 0===a?void 0:null===(t=a.link)||void 0===t?void 0:t.indexOf("prev")),c=-1!==(null===(n=e.headers)||void 0===n?void 0:null===(r=n.link)||void 0===r?void 0:r.indexOf("next"));u({hasPrevious:l,hasNext:c,data:e.data})}).catch(e=>{v((null===e||void 0===e?void 0:e.message)||e)}).finally(()=>{o(!1)}),()=>{e.cancel("cancelled")}},[a]);return r.a.useEffect(f,[f]),r.a.createElement(U.Provider,{value:Object.freeze({loading:c,error:p,reload:f,hasPreviousPage:()=>null===i||void 0===i?void 0:i.hasPrevious,hasNextPage:()=>null===i||void 0===i?void 0:i.hasNext,getData:()=>S.copyOrEmpty(null===i||void 0===i?void 0:i.data),getSortedData:e=>S.sortByField(null===i||void 0===i?void 0:i.data,e,q[e])})},t)}function F(e){const a=e.render;return r.a.createElement(U.Consumer,null,e=>a(e))}R.defaultProps={page:0};var H=t(88),z=t(89),B=t(90);t(77);var W=function(e){const a=e.className,t=e.image;return r.a.createElement(H.a,{className:y.combineStyles("ImageDetails",a),href:t.url,target:"blank"},r.a.createElement(w,{source:D.GET_IMAGE(t.id),details:t}),r.a.createElement(z.a,null,r.a.createElement(B.a,{className:y.combineStyles("ImageDetails-Author","text-center")},t.author||"Author not known")))};t(78);const J={ID:e=>e.getData(),Author:e=>e.getSortedData("author")};var V=function(){const e=r.a.useState(0),a=Object(E.a)(e,2),t=a[0],n=a[1],l=r.a.useState("Author"),c=Object(E.a)(l,2),o=c[0],s=c[1];return r.a.createElement(R,{page:t},r.a.createElement(F,{render:e=>r.a.createElement(k,{className:"pt-5",loading:e.loading},()=>e.error?r.a.createElement(j,{message:"Could not load the image list :(",onReload:e.reload,error:e.error}):r.a.createElement(i.a,null,r.a.createElement(g.a,{className:"mb-5"},r.a.createElement(v.a,{className:"text-left",md:3},r.a.createElement(M.a,null,"Sort by:"),r.a.createElement(L.a,{id:"sort",type:"select",value:o,onChange:e=>{s(e.target.value)}},Object.keys(J).map(e=>r.a.createElement("option",{key:e},e))))),r.a.createElement(g.a,null,J[o](e).map((e,a)=>r.a.createElement(v.a,{key:"".concat(e.id,"-").concat(a),className:"mb-4",sm:12,md:6,lg:4,xl:3},r.a.createElement(W,{image:e})))),r.a.createElement(g.a,{className:"mt-5 mb-5"},r.a.createElement(v.a,null,r.a.createElement(p.a,{color:"primary",disabled:!e.hasPreviousPage(),onClick:()=>n(e=>Math.max(0,e-1))},"Previous page")),r.a.createElement(v.a,{className:"align-items-center justify-content-center d-flex"},r.a.createElement("span",null,t+1)),r.a.createElement(v.a,null,r.a.createElement(p.a,{color:"primary",disabled:!e.hasNextPage(),onClick:()=>n(e=>e+1)},"Next page")))))}))};t(79),t(80);var Z=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(o.a,{color:"light"},r.a.createElement(s.a,{href:"/"},"Images"),r.a.createElement(m.a,{href:"/images"},"See all images")),r.a.createElement(i.a,null,r.a.createElement(u.a,{basename:"/learnifier-assignment"},r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",component:T}),r.a.createElement(d.b,{path:"/images",component:V}),r.a.createElement(d.a,{to:"/"})))))};const K=document.getElementById("root");c.a.render(r.a.createElement(Z,null),K)}},[[42,1,2]]]);
//# sourceMappingURL=main.2d295454.chunk.js.map